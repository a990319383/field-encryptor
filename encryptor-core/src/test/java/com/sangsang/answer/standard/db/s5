SELECT a.mName, a.m2Name, a.ph, a.m3Ph FROM (SELECT CAST(AES_DECRYPT(FROM_BASE64(tu.phone), '7uq?q8g3@q') AS CHAR) AS ph, menu_name AS mName, (SELECT tm2.menu_name FROM tb_menu tm2 WHERE tm2.id = tm.id) AS m2Name, (SELECT CAST(AES_DECRYPT(FROM_BASE64(tu.phone), '7uq?q8g3@q') AS CHAR) AS phone FROM tb_menu tm3 WHERE tm3.id = tu.id AND tu.phone = TO_BASE64(AES_ENCRYPT(?, '7uq?q8g3@q'))) AS m3Ph FROM tb_user tu LEFT JOIN tb_menu tm ON tu.id = tm.id) a