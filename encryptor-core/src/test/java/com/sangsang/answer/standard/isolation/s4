SELECT * FROM tb_user t1 LEFT JOIN tb_user t2 ON t1.id = t2.id WHERE EXISTS (SELECT count(1) FROM tb_user WHERE tb_user.role_id = 1111111 AND t1.role_id = 1111111 AND t2.role_id = 1111111) AND t1.role_id = 1111111 AND t2.role_id = 1111111