SELECT a.login_name, a.phone, a.id, a.login_pwd, a.ph, a.update_time, a.create_time, a.role_id, a.user_name FROM (SELECT concat('xxx:', CAST(AES_DECRYPT(FROM_BASE64(tu.phone), '7uq?q8g3@q') AS CHAR), tm.id) AS ph, tu.role_id, tu.user_name, tu.update_time, tu.create_time, tu.id, tu.login_pwd, tu.login_name, CAST(AES_DECRYPT(FROM_BASE64(tu.phone), '7uq?q8g3@q') AS CHAR) AS phone FROM tb_user tu LEFT JOIN tb_menu tm ON tu.id = tm.id WHERE concat('yyy:', CAST(AES_DECRYPT(FROM_BASE64(tu.phone), '7uq?q8g3@q') AS CHAR), tm.id) LIKE '1840') a WHERE a.ph = 'tttt'