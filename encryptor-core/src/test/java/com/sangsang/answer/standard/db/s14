SELECT a.* FROM (SELECT concat('xxx:', CAST(AES_DECRYPT(FROM_BASE64(tu.phone), '7uq?q8g3@q') AS CHAR), tm.id) AS ph, tu.user_name, tu.id, tu.update_time, tu.role_id, tu.login_name, tu.create_time, CAST(AES_DECRYPT(FROM_BASE64(tu.phone), '7uq?q8g3@q') AS CHAR) AS phone, tu.login_pwd FROM tb_user tu LEFT JOIN tb_menu tm ON tu.id = tm.id WHERE concat('yyy:', CAST(AES_DECRYPT(FROM_BASE64(tu.phone), '7uq?q8g3@q') AS CHAR), tm.id) LIKE '1840') a WHERE a.ph = 'tttt'