SELECT tu1.user_name, tu1.login_name, tu1.login_pwd, CAST(AES_DECRYPT(FROM_BASE64(tu1.phone), '7uq?q8g3@q') AS CHAR) AS phone, tu1.role_id, tu1.id, tu1.create_time, tu1.update_time FROM tb_user tu1 WHERE tu1.phone IN (SELECT TO_BASE64(AES_ENCRYPT(a.role_name, '7uq?q8g3@q')) AS role_name FROM tb_user tu JOIN (SELECT tmp.* FROM (SELECT CAST(AES_DECRYPT(FROM_BASE64(tb_role.role_name), '测试秘钥') AS CHAR) AS role_name, tb_role.role_desc, tb_role.id, tb_role.create_time, tb_role.update_time FROM tb_role) tmp WHERE tmp.role_name = ?) a ON tu.phone = TO_BASE64(AES_ENCRYPT(a.role_name, '7uq?q8g3@q')))